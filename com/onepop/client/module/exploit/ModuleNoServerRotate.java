//Deobfuscated with https://github.com/SimplyProgrammer/Minecraft-Deobfuscator3000 using mappings "C:\Users\aesthetical\Documents\Development\Tools\Minecraft-Clients\1.12.2 mappings"!

// 
// Decompiled by Procyon v0.6-prerelease
// 

package com.onepop.client.module.exploit;

import team.stiff.pomelo.impl.annotated.handler.annotation.Listener;
import net.minecraft.network.play.server.SPacketPlayerPosLook;
import com.onepop.api.util.client.NullUtil;
import com.onepop.client.event.network.PacketEvent;
import com.onepop.api.setting.value.ValueBoolean;
import com.onepop.api.module.impl.ModuleCategory;
import com.onepop.api.module.registry.Registry;
import com.onepop.api.module.Module;

@Registry(name = "No Server Rotate", tag = "NoServerRotate", description = "No server rotate!", category = ModuleCategory.EXPLOIT)
public class ModuleNoServerRotate extends Module
{
    public static ValueBoolean settingCancel;
    
    @Listener
    public void onPacketReceive(final PacketEvent.Receive event) {
        if (NullUtil.isPlayerWorld()) {
            return;
        }
        if (event.getPacket() instanceof SPacketPlayerPosLook) {
            if (ModuleNoServerRotate.settingCancel.getValue()) {
                event.setCanceled(true);
            }
            else {
                final SPacketPlayerPosLook packet = (SPacketPlayerPosLook)event.getPacket();
                packet.yaw = ModuleNoServerRotate.mc.player.rotationYaw;
                packet.pitch = ModuleNoServerRotate.mc.player.rotationPitch;
            }
        }
    }
    
    static {
        ModuleNoServerRotate.settingCancel = new ValueBoolean("Cancel", "Cancel", "Just cancel rotate from server.", false);
    }
}
